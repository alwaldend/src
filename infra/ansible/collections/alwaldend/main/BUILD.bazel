load("@rules_pkg//pkg:mappings.bzl", "pkg_filegroup")
load("//tools/docs:al_docs_files.bzl", "al_docs_files")

al_docs_files(
    name = "docs",
    srcs = glob(["*.md"]),
    prefix = package_name(),
    visibility = ["//infra/ansible/collections/alwaldend:__pkg__"],
    deps = [
        "//infra/ansible/collections/alwaldend/main/playbooks:docs",
        "//infra/ansible/collections/alwaldend/main/roles:docs",
    ],
)

pkg_filegroup(
    name = "collection",
    srcs = [
        "//infra/ansible/collections/alwaldend/main/playbooks",
        "//infra/ansible/collections/alwaldend/main/roles",
    ],
    prefix = "alwaldend/main",
    visibility = ["//:__subpackages__"],
)
